<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <form action="">
        <input type="text" name="name" id="name" placeholder="Entre ton blase">
        <input type="submit" value="Submit" id="submit">
    </form>
    <script>
        const submit = document.getElementById('submit');
        const name = document.getElementById('name');
        submit.style.opacity = '0';
        submit.addEventListener('click', (e) => {
            e.preventDefault();
            // Exemple de données utilisateur à envoyer
        const userData = {
            name: `${name.value}`,
        };

        // Exécution de la requête fetch
     

        if (name.value.length > 5) {
                        localStorage.setItem('name', name.value);
                        fetch('http://localhost:5000/user', {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify(userData),
                    })
                    .then(response => response)
                    .then(data => console.log('Succès:', data))
                    .catch((error) => console.error('Erreur:', error));
                       setTimeout(() => {
                        window.location.href = 'Game.html';
                    }, 5000); 

                    }
                })
        name.addEventListener('keyup', () => {
            if (name.value.length > 2) {
                submit.style.opacity = '1';
            } else {
                submit.style.opacity = '0';
            }
        })
    </script>
</body>
</html>